#: include src/components/groups_rv/groups_rv.kv


<RotateButton@Button>:
    angle: 0
    canvas.before:
        PushMatrix
        Rotate:
            angle: root.angle
            axis: 0, 0, 1
            origin: root.center
    canvas.after:
        PopMatrix


<AddScreen>:
    BoxLayout:
        padding: 20
        spacing: 20
        size_hint: (1, 0.87)
        pos_hint : {'center_x': 0.5,'top': 0.9}

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.7, 1)

            BoxLayout:
                height : '52sp'
                padding: '20dp', 0, 0, 0
                size_hint_y : None
                canvas:
                    Color:
                        rgba: 255,255,255, 0.8
                    Rectangle :
                        pos : self.pos
                        size :self.size

                Button:
                    height: '48dp'
                    width: '48dp'
                    size_hint: (None, None)
                    background_normal: 'src/assets/icons/file-manager-icon.png'
                    background_down: 'src/assets/icons/file-manager-dark-icon.png'
                    on_release: root.show_load()

                Label:
                    markup: True
                    text_size: self.size

                    padding_x: '12dp'
                    halign: 'left'
                    valign: 'middle'
                    text: '[b][color=grey]Название файла[/color][/b]'

                RotateButton:
                    angle: 0
                    height: '48dp'
                    width: '48dp'
                    size_hint: (None, None)
                    background_normal: 'src/assets/icons/refresh-icon.png'
                    background_down: 'src/assets/icons/refresh-dark-icon.png'
                    on_release: root.animate_rotate(self)

            GroupsRV

        AnchorLayout:
            size_hint: (1, 1)

            BoxLayout:
                size_hint: (None, None)
                height: 490
                width: 490

                CircularProgressBar:
                    id: CircularProgressBar
                    progress_colour: 0, 0.8, 0, 0.8
                    background_colour: 0, 0, 0, 0.4
                    widget_size: 490


<LoadDialog>:
    size_hint: (0.9, 0.9)

    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)